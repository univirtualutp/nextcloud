{"version":3,"file":"photos-vendors-node_modules_nextcloud_upload_node_modules_nextcloud_dialogs_dist_chunks_FilePicker-0-aee94f.js?v=551dcb5bfa46fb10d887","mappings":"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","sources":["webpack:///photos/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-0bd54f66.mjs"],"sourcesContent":["import { ref as y, onMounted as R, computed as v, defineComponent as I, watch as te, onUnmounted as ue, nextTick as de, toRef as _e } from \"vue\";\nimport { FileType as V, formatFileSize as fe, davGetClient as pe, davResultToNode as M, davRootPath as D, getFavoriteNodes as ve, davGetRecentSearch as me, davGetDefaultPropfind as ge } from \"@nextcloud/files\";\nimport { getCanonicalLocale as he } from \"@nextcloud/l10n\";\nimport { NcCheckboxRadioSwitch as ie, NcDateTime as ye, NcButton as ne, NcActions as we, NcActionInput as Ce, NcBreadcrumbs as be, NcBreadcrumb as ke, NcSelect as Fe, NcTextField as Se, NcDialog as $e, NcEmptyContent as xe } from \"@nextcloud/vue\";\nimport { join as le } from \"path\";\nimport { loadState as se } from \"@nextcloud/initial-state\";\nimport { generateUrl as H } from \"@nextcloud/router\";\nimport { toValue as ee } from \"@vueuse/core\";\nimport re from \"@nextcloud/axios\";\nimport { t as w, k as Ne } from \"./toast-d1cd63b1.mjs\";\nimport { Fragment as Pe } from \"vue-frag\";\nimport { emit as Le } from \"@nextcloud/event-bus\";\nfunction k(s, e, i, t, n, l, o, _) {\n  var r = typeof s == \"function\" ? s.options : s;\n  e && (r.render = e, r.staticRenderFns = i, r._compiled = !0), t && (r.functional = !0), l && (r._scopeId = \"data-v-\" + l);\n  var u;\n  if (o ? (u = function(f) {\n    f = f || // cached call\n    this.$vnode && this.$vnode.ssrContext || // stateful\n    this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext, !f && typeof __VUE_SSR_CONTEXT__ < \"u\" && (f = __VUE_SSR_CONTEXT__), n && n.call(this, f), f && f._registeredComponents && f._registeredComponents.add(o);\n  }, r._ssrRegister = u) : n && (u = _ ? function() {\n    n.call(\n      this,\n      (r.functional ? this.parent : this).$root.$options.shadowRoot\n    );\n  } : n), u)\n    if (r.functional) {\n      r._injectStyles = u;\n      var p = r.render;\n      r.render = function(g, d) {\n        return u.call(d), p(g, d);\n      };\n    } else {\n      var C = r.beforeCreate;\n      r.beforeCreate = C ? [].concat(C, u) : [u];\n    }\n  return {\n    exports: s,\n    options: r\n  };\n}\nconst ze = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Be = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Ie = [], Ve = /* @__PURE__ */ k(\n  ze,\n  Be,\n  Ie,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst ae = Ve.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst oe = () => {\n  var s, e, i;\n  const t = se(\"files\", \"config\", null), n = y((s = t == null ? void 0 : t.show_hidden) != null ? s : !1), l = y((e = t == null ? void 0 : t.sort_favorites_first) != null ? e : !0), o = y((i = t == null ? void 0 : t.crop_image_previews) != null ? i : !0);\n  return R(() => {\n    re.get(H(\"/apps/files/api/v1/configs\")).then((_) => {\n      var r, u, p, C, f, g, d, S, $;\n      n.value = (p = (u = (r = _.data) == null ? void 0 : r.data) == null ? void 0 : u.show_hidden) != null ? p : !1, l.value = (g = (f = (C = _.data) == null ? void 0 : C.data) == null ? void 0 : f.sort_favorites_first) != null ? g : !0, o.value = ($ = (S = (d = _.data) == null ? void 0 : d.data) == null ? void 0 : S.crop_image_previews) != null ? $ : !0;\n    });\n  }), {\n    showHiddenFiles: n,\n    sortFavoritesFirst: l,\n    cropImagePreviews: o\n  };\n}, Re = (s) => {\n  var e, i, t, n, l, o, _, r, u, p, C, f;\n  const g = (b) => b === \"asc\" ? \"ascending\" : b === \"desc\" ? \"descending\" : \"none\", d = se(\"files\", \"viewConfigs\", null), S = y({\n    sortBy: (i = (e = d == null ? void 0 : d.files) == null ? void 0 : e.sorting_mode) != null ? i : \"basename\",\n    order: g((n = (t = d == null ? void 0 : d.files) == null ? void 0 : t.sorting_direction) != null ? n : \"asc\")\n  }), $ = y({\n    sortBy: (o = (l = d == null ? void 0 : d.recent) == null ? void 0 : l.sorting_mode) != null ? o : \"basename\",\n    order: g((r = (_ = d == null ? void 0 : d.recent) == null ? void 0 : _.sorting_direction) != null ? r : \"asc\")\n  }), P = y({\n    sortBy: (p = (u = d == null ? void 0 : d.favorites) == null ? void 0 : u.sorting_mode) != null ? p : \"basename\",\n    order: g((f = (C = d == null ? void 0 : d.favorites) == null ? void 0 : C.sorting_direction) != null ? f : \"asc\")\n  });\n  R(() => {\n    re.get(H(\"/apps/files/api/v1/views\")).then((b) => {\n      var h, a, c, F, x, z, B, T, E, U, Z, O, j, G, W, q, K, X, J, Q, Y;\n      S.value = {\n        sortBy: (F = (c = (a = (h = b.data) == null ? void 0 : h.data) == null ? void 0 : a.files) == null ? void 0 : c.sorting_mode) != null ? F : \"basename\",\n        order: g((B = (z = (x = b.data) == null ? void 0 : x.data) == null ? void 0 : z.files) == null ? void 0 : B.sorting_direction)\n      }, P.value = {\n        sortBy: (Z = (U = (E = (T = b.data) == null ? void 0 : T.data) == null ? void 0 : E.favorites) == null ? void 0 : U.sorting_mode) != null ? Z : \"basename\",\n        order: g((G = (j = (O = b.data) == null ? void 0 : O.data) == null ? void 0 : j.favorites) == null ? void 0 : G.sorting_direction)\n      }, $.value = {\n        sortBy: (X = (K = (q = (W = b.data) == null ? void 0 : W.data) == null ? void 0 : q.recent) == null ? void 0 : K.sorting_mode) != null ? X : \"basename\",\n        order: g((Y = (Q = (J = b.data) == null ? void 0 : J.data) == null ? void 0 : Q.recent) == null ? void 0 : Y.sorting_direction)\n      };\n    });\n  });\n  const N = v(() => ee(s || \"files\") === \"files\" ? S.value : ee(s) === \"recent\" ? $.value : P.value), L = v(() => N.value.sortBy), m = v(() => N.value.order);\n  return {\n    filesViewConfig: S,\n    favoritesViewConfig: P,\n    recentViewConfig: $,\n    currentConfig: N,\n    sortBy: L,\n    order: m\n  };\n}, Me = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar De = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M7,15L12,10L17,15H7Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, He = [], Ae = /* @__PURE__ */ k(\n  Me,\n  De,\n  He,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Te = Ae.exports, Ee = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ue = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M7,10L12,15L17,10H7Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Ze = [], Oe = /* @__PURE__ */ k(\n  Ee,\n  Ue,\n  Ze,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst je = Oe.exports, ce = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_1vgv4_5\"\n}, Ge = /* @__PURE__ */ I({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(s) {\n    return { __sfc: !0, fileListIconStyles: ce };\n  }\n});\nvar We = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [e.showCheckbox ? i(\"td\", { staticClass: \"row-checkbox\" }, [i(\"span\")]) : e._e(), i(\"td\", { staticClass: \"row-name\" }, [i(\"div\", { staticClass: \"row-wrapper\" }, [i(\"span\", { class: t.fileListIconStyles[\"file-picker__file-icon\"] }), i(\"span\")])]), e._m(0), e._m(1)]);\n}, qe = [function() {\n  var s = this, e = s._self._c;\n  return s._self._setupProxy, e(\"td\", { staticClass: \"row-size\" }, [e(\"span\")]);\n}, function() {\n  var s = this, e = s._self._c;\n  return s._self._setupProxy, e(\"td\", { staticClass: \"row-modified\" }, [e(\"span\")]);\n}], Ke = /* @__PURE__ */ k(\n  Ge,\n  We,\n  qe,\n  !1,\n  null,\n  \"6aded0d9\",\n  null,\n  null\n);\nconst Xe = Ke.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction Je(s, e = {}) {\n  var i;\n  e = { size: 32, cropPreview: !1, mimeFallback: !0, ...e };\n  try {\n    const t = ((i = s.attributes) == null ? void 0 : i.previewUrl) || H(\"/core/preview?fileId={fileid}\", {\n      fileid: s.fileid\n    });\n    let n;\n    try {\n      n = new URL(t);\n    } catch {\n      n = new URL(t, window.location.origin);\n    }\n    return n.searchParams.set(\"x\", \"\".concat(e.size)), n.searchParams.set(\"y\", \"\".concat(e.size)), n.searchParams.set(\"mimeFallback\", \"\".concat(e.mimeFallback)), n.searchParams.set(\"a\", e.cropPreview === !0 ? \"0\" : \"1\"), n.searchParams.set(\"c\", \"\".concat(s.attributes.etag)), n;\n  } catch {\n    return null;\n  }\n}\nconst Qe = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ye = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, et = [], tt = /* @__PURE__ */ k(\n  Qe,\n  Ye,\n  et,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst A = tt.exports, it = {\n  name: \"FilePreview\"\n}, nt = /* @__PURE__ */ I({\n  ...it,\n  props: {\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(s) {\n    const e = s, i = y(ce), t = v(() => Je(e.node, { cropPreview: e.cropImagePreviews })), n = v(() => e.node.type === V.File), l = y(!1);\n    return te(t, () => {\n      if (l.value = !1, t.value) {\n        const o = document.createElement(\"img\");\n        o.src = t.value.href, o.onerror = () => o.remove(), o.onload = () => {\n          l.value = !0, o.remove();\n        }, document.body.appendChild(o);\n      }\n    }, { immediate: !0 }), { __sfc: !0, fileListIconStyles: i, props: e, previewURL: t, isFile: n, canLoadPreview: l, t: w, IconFile: ae, IconFolder: A };\n  }\n});\nvar lt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"div\", { class: t.fileListIconStyles[\"file-picker__file-icon\"], style: t.canLoadPreview ? { backgroundImage: \"url(\".concat(t.previewURL, \")\") } : void 0, attrs: { \"aria-label\": t.t(\"MIME type {mime}\", { mime: e.node.mime || t.t(\"unknown\") }) } }, [t.canLoadPreview ? e._e() : [t.isFile ? i(t.IconFile, { attrs: { size: 20 } }) : i(t.IconFolder, { attrs: { size: 20 } })]], 2);\n}, st = [], rt = /* @__PURE__ */ k(\n  nt,\n  lt,\n  st,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst at = rt.exports, ot = /* @__PURE__ */ I({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(s, { emit: e }) {\n    const i = s, t = v(() => {\n      var p;\n      return ((p = i.node.attributes) == null ? void 0 : p.displayName) || i.node.basename.slice(0, i.node.extension ? -i.node.extension.length : void 0);\n    }), n = v(() => i.node.extension), l = v(() => i.node.type === V.Folder), o = v(() => i.canPick && (i.allowPickDirectory || !l.value));\n    function _() {\n      e(\"update:selected\", !i.selected);\n    }\n    function r() {\n      l.value ? e(\"enter-directory\", i.node) : _();\n    }\n    function u(p) {\n      p.key === \"Enter\" && r();\n    }\n    return { __sfc: !0, props: i, emit: e, displayName: t, fileExtension: n, isDirectory: l, isPickable: o, toggleSelected: _, handleClick: r, handleKeyDown: u, formatFileSize: fe, NcCheckboxRadioSwitch: ie, NcDateTime: ye, t: w, FilePreview: at };\n  }\n});\nvar ct = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"tr\", e._g(\n    { class: [\"file-picker__row\", {\n      \"file-picker__row--selected\": e.selected && !e.showCheckbox\n    }], attrs: { tabindex: e.showCheckbox && !t.isDirectory ? void 0 : 0, \"aria-selected\": t.isPickable ? e.selected : void 0, \"data-filename\": e.node.basename, \"data-testid\": \"file-list-row\" }, on: { click: t.handleClick } },\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    !e.showCheckbox || t.isDirectory ? { keydown: t.handleKeyDown } : {}\n  ), [e.showCheckbox ? i(\"td\", { staticClass: \"row-checkbox\" }, [i(t.NcCheckboxRadioSwitch, { attrs: { disabled: !t.isPickable, checked: e.selected, \"aria-label\": t.t(\"Select the row for {nodename}\", { nodename: t.displayName }), \"data-testid\": \"row-checkbox\" }, on: { click: function(n) {\n    n.stopPropagation();\n  }, \"update:checked\": t.toggleSelected } })], 1) : e._e(), i(\"td\", { staticClass: \"row-name\" }, [i(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [i(t.FilePreview, { attrs: { node: e.node, \"crop-image-previews\": e.cropImagePreviews } }), i(\"div\", { staticClass: \"file-picker__file-name\", attrs: { title: t.displayName }, domProps: { textContent: e._s(t.displayName) } }), i(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { textContent: e._s(t.fileExtension) } })], 1)]), i(\"td\", { staticClass: \"row-size\" }, [e._v(\" \" + e._s(t.formatFileSize(e.node.size || 0)) + \" \")]), i(\"td\", { staticClass: \"row-modified\" }, [i(t.NcDateTime, { attrs: { timestamp: e.node.mtime, \"ignore-seconds\": !0 } })], 1)]);\n}, ut = [], dt = /* @__PURE__ */ k(\n  ot,\n  ct,\n  ut,\n  !1,\n  null,\n  \"ee6f34b5\",\n  null,\n  null\n);\nconst _t = dt.exports, ft = /* @__PURE__ */ I({\n  __name: \"FileList\",\n  props: {\n    currentView: null,\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(s, { emit: e }) {\n    const i = s, t = y(), { currentConfig: n } = Re(i.currentView), l = v(() => {\n      var m;\n      return (m = t.value) != null ? m : n.value;\n    }), o = v(() => l.value.sortBy === \"basename\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), _ = v(() => l.value.sortBy === \"size\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), r = v(() => l.value.sortBy === \"mtime\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), u = (m) => {\n      l.value.sortBy === m ? l.value.order === \"ascending\" ? t.value = { sortBy: l.value.sortBy, order: \"descending\" } : t.value = { sortBy: l.value.sortBy, order: \"ascending\" } : t.value = { sortBy: m, order: \"ascending\" };\n    }, { sortFavoritesFirst: p, cropImagePreviews: C } = oe(), f = v(\n      () => {\n        const m = {\n          ascending: (h, a, c) => c(h, a),\n          descending: (h, a, c) => c(a, h),\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          none: (h, a, c) => 0\n        }, b = {\n          basename: (h, a) => {\n            var c, F;\n            return (((c = h.attributes) == null ? void 0 : c.displayName) || h.basename).localeCompare(((F = a.attributes) == null ? void 0 : F.displayName) || a.basename, he());\n          },\n          size: (h, a) => (h.size || 0) - (a.size || 0),\n          // reverted because \"young\" is smaller than \"old\"\n          mtime: (h, a) => {\n            var c, F, x, z;\n            return (((F = (c = a.mtime) == null ? void 0 : c.getTime) == null ? void 0 : F.call(c)) || 0) - (((z = (x = h.mtime) == null ? void 0 : x.getTime) == null ? void 0 : z.call(x)) || 0);\n          }\n        };\n        return [...i.files].sort(\n          (h, a) => (\n            // Folders always come above the files\n            (a.type === V.Folder ? 1 : 0) - (h.type === V.Folder ? 1 : 0) || (p ? (a.attributes.favorite ? 1 : 0) - (h.attributes.favorite ? 1 : 0) : 0) || m[l.value.order](h, a, b[l.value.sortBy])\n          )\n        );\n      }\n    ), g = v(() => i.files.filter((m) => i.allowPickDirectory || m.type !== V.Folder)), d = v(() => !i.loading && i.selectedFiles.length > 0 && i.selectedFiles.length >= g.value.length);\n    function S() {\n      i.selectedFiles.length < g.value.length ? e(\"update:selectedFiles\", g.value) : e(\"update:selectedFiles\", []);\n    }\n    function $(m) {\n      i.selectedFiles.includes(m) ? e(\"update:selectedFiles\", i.selectedFiles.filter((b) => b.path !== m.path)) : i.multiselect ? e(\"update:selectedFiles\", [...i.selectedFiles, m]) : e(\"update:selectedFiles\", [m]);\n    }\n    function P(m) {\n      e(\"update:path\", le(i.path, m.basename));\n    }\n    const N = y(4), L = y();\n    {\n      const m = () => de(() => {\n        var b, h, a, c, F;\n        const x = ((h = (b = L.value) == null ? void 0 : b.parentElement) == null ? void 0 : h.children) || [];\n        let z = ((c = (a = L.value) == null ? void 0 : a.parentElement) == null ? void 0 : c.clientHeight) || 450;\n        for (let B = 0; B < x.length; B++)\n          (F = L.value) != null && F.isSameNode(x[B]) || (z -= x[B].clientHeight);\n        N.value = Math.floor((z - 50) / 50);\n      });\n      R(() => {\n        window.addEventListener(\"resize\", m), m();\n      }), ue(() => {\n        window.removeEventListener(\"resize\", m);\n      });\n    }\n    return { __sfc: !0, props: i, emit: e, customSortingConfig: t, filesAppSorting: n, sortingConfig: l, sortByName: o, sortBySize: _, sortByModified: r, toggleSorting: u, sortFavoritesFirst: p, cropImagePreviews: C, sortedFiles: f, selectableFiles: g, allSelected: d, onSelectAll: S, onNodeSelected: $, onChangeDirectory: P, skeletonNumber: N, fileContainer: L, NcButton: ne, NcCheckboxRadioSwitch: ie, t: w, IconSortAscending: Te, IconSortDescending: je, LoadingTableRow: Xe, FileListRow: _t };\n  }\n});\nvar pt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [i(\"table\", [i(\"thead\", [i(\"tr\", [e.multiselect ? i(\"th\", { staticClass: \"row-checkbox\" }, [i(\"span\", { staticClass: \"hidden-visually\" }, [e._v(\" \" + e._s(t.t(\"Select entry\")) + \" \")]), e.multiselect ? i(t.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": t.t(\"Select all entries\"), checked: t.allSelected, \"data-testid\": \"select-all-checkbox\" }, on: { \"update:checked\": t.onSelectAll } }) : e._e()], 1) : e._e(), i(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": t.sortByName } }, [i(\"div\", { staticClass: \"header-wrapper\" }, [i(\"span\", { staticClass: \"file-picker__header-preview\" }), i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { click: function(n) {\n    return t.toggleSorting(\"basename\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortByName === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortByName === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Name\")) + \" \")])], 1)]), i(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": t.sortBySize } }, [i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: function(n) {\n    return t.toggleSorting(\"size\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortBySize === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortBySize === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Size\")) + \" \")])], 1), i(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": t.sortByModified } }, [i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: function(n) {\n    return t.toggleSorting(\"mtime\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortByModified === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortByModified === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Modified\")) + \" \")])], 1)])]), i(\"tbody\", [e.loading ? e._l(t.skeletonNumber, function(n) {\n    return i(t.LoadingTableRow, { key: n, attrs: { \"show-checkbox\": e.multiselect } });\n  }) : e._l(t.sortedFiles, function(n) {\n    return i(t.FileListRow, { key: n.fileid || n.path, attrs: { \"allow-pick-directory\": e.allowPickDirectory, \"show-checkbox\": e.multiselect, \"can-pick\": e.multiselect || e.selectedFiles.length === 0 || e.selectedFiles.includes(n), selected: e.selectedFiles.includes(n), node: n, \"crop-image-previews\": t.cropImagePreviews }, on: { \"update:selected\": function(l) {\n      return t.onNodeSelected(n);\n    }, \"enter-directory\": t.onChangeDirectory } });\n  })], 2)])]);\n}, vt = [], mt = /* @__PURE__ */ k(\n  ft,\n  pt,\n  vt,\n  !1,\n  null,\n  \"4297db37\",\n  null,\n  null\n);\nconst gt = mt.exports, ht = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar yt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, wt = [], Ct = /* @__PURE__ */ k(\n  ht,\n  yt,\n  wt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst bt = Ct.exports, kt = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ft = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, St = [], $t = /* @__PURE__ */ k(\n  kt,\n  Ft,\n  St,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst xt = $t.exports, Nt = /* @__PURE__ */ I({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(s, { emit: e }) {\n    const i = s, t = y(\"\"), n = y();\n    function l() {\n      var r, u, p, C;\n      const f = t.value.trim(), g = (u = (r = n.value) == null ? void 0 : r.$el) == null ? void 0 : u.querySelector(\"input\");\n      let d = \"\";\n      return f.length === 0 ? d = w(\"Folder name cannot be empty.\") : f.includes(\"/\") ? d = w('\"/\" is not allowed inside a folder name.') : [\"..\", \".\"].includes(f) ? d = w('\"{name}\" is an invalid folder name.', { name: f }) : (p = window.OC.config) != null && p.blacklist_files_regex && f.match((C = window.OC.config) == null ? void 0 : C.blacklist_files_regex) && (d = w('\"{name}\" is not an allowed folder name', { name: f })), g && g.setCustomValidity(d), d === \"\";\n    }\n    const o = function() {\n      const r = t.value.trim();\n      l() && (e(\"create-node\", r), t.value = \"\");\n    }, _ = v(\n      () => i.path.split(\"/\").filter((r) => r !== \"\").map((r, u, p) => ({\n        name: r,\n        path: \"/\" + p.slice(0, u + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: !0, props: i, emit: e, newNodeName: t, nameInput: n, validateInput: l, onSubmit: o, pathElements: _, IconFolder: A, IconHome: bt, IconPlus: xt, NcActions: we, NcActionInput: Ce, NcBreadcrumbs: be, NcBreadcrumb: ke, t: w };\n  }\n});\nvar Pt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: e._u([{ key: \"default\", fn: function() {\n    return [i(t.NcBreadcrumb, { attrs: { name: t.t(\"Home\"), title: t.t(\"Home\") }, on: { click: function(n) {\n      return t.emit(\"update:path\", \"/\");\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconHome, { attrs: { size: 20 } })];\n    }, proxy: !0 }]) }), e._l(t.pathElements, function(n) {\n      return i(t.NcBreadcrumb, { key: n.path, attrs: { name: n.name, title: n.path }, on: { click: function(l) {\n        return t.emit(\"update:path\", n.path);\n      } } });\n    })];\n  }, proxy: !0 }, e.showMenu ? { key: \"actions\", fn: function() {\n    return [i(t.NcActions, { attrs: { \"aria-label\": t.t(\"Create directory\"), \"force-menu\": !0, \"force-name\": !0, \"menu-name\": t.t(\"New\"), type: \"secondary\" }, on: { close: function(n) {\n      t.newNodeName = \"\";\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconPlus, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 2971667417) }, [i(t.NcActionInput, { ref: \"nameInput\", attrs: { value: t.newNodeName, label: t.t(\"New folder\"), placeholder: t.t(\"New folder name\") }, on: { \"update:value\": function(n) {\n      t.newNodeName = n;\n    }, submit: t.onSubmit, input: t.validateInput }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconFolder, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 1614167509) })], 1)];\n  }, proxy: !0 } : null], null, !0) });\n}, Lt = [], zt = /* @__PURE__ */ k(\n  Nt,\n  Pt,\n  Lt,\n  !1,\n  null,\n  \"3bc9efa5\",\n  null,\n  null\n);\nconst Bt = zt.exports, It = {\n  name: \"ClockIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Vt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon clock-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Rt = [], Mt = /* @__PURE__ */ k(\n  It,\n  Vt,\n  Rt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Dt = Mt.exports, Ht = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar At = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Tt = [], Et = /* @__PURE__ */ k(\n  Ht,\n  At,\n  Tt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Ut = Et.exports, Zt = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ot = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, jt = [], Gt = /* @__PURE__ */ k(\n  Zt,\n  Ot,\n  jt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Wt = Gt.exports, qt = {\n  name: \"StarIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Kt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon star-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Xt = [], Jt = /* @__PURE__ */ k(\n  qt,\n  Kt,\n  Xt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Qt = Jt.exports, Yt = /* @__PURE__ */ I({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(s, { emit: e }) {\n    const i = s, t = [{\n      id: \"files\",\n      label: w(\"All files\"),\n      icon: A\n    }, {\n      id: \"recent\",\n      label: w(\"Recent\"),\n      icon: Dt\n    }, {\n      id: \"favorites\",\n      label: w(\"Favorites\"),\n      icon: Qt\n    }], n = v(() => t.filter((o) => o.id === i.currentView)[0]);\n    return { __sfc: !0, allViews: t, props: i, emit: e, currentViewObject: n, updateFilterValue: (o) => e(\"update:filterString\", o), IconClose: Ut, IconMagnify: Wt, NcButton: ne, NcSelect: Fe, NcTextField: Se, t: w, Fragment: Pe };\n  }\n});\nvar ei = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.Fragment, [i(t.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { value: e.filterString, label: t.t(\"Filter file list\"), \"show-trailing-button\": !!e.filterString }, on: { \"update:value\": t.updateFilterValue, \"trailing-button-click\": function(n) {\n    return t.updateFilterValue(\"\");\n  } }, scopedSlots: e._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [i(t.IconClose, { attrs: { size: 16 } })];\n  }, proxy: !0 }]) }, [i(t.IconMagnify, { attrs: { size: 16 } })], 1), e.isCollapsed ? i(t.NcSelect, { attrs: { \"aria-label\": t.t(\"Current view selector\"), clearable: !1, searchable: !1, options: t.allViews, value: t.currentViewObject }, on: { input: (n) => t.emit(\"update:currentView\", n.id) } }) : i(\"ul\", { staticClass: \"file-picker__side\", attrs: { role: \"tablist\", \"aria-label\": t.t(\"Filepicker sections\") } }, e._l(t.allViews, function(n) {\n    return i(\"li\", { key: n.id }, [i(t.NcButton, { attrs: { \"aria-selected\": e.currentView === n.id, type: e.currentView === n.id ? \"primary\" : \"tertiary\", wide: !0, role: \"tab\" }, on: { click: function(l) {\n      return e.$emit(\"update:currentView\", n.id);\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(n.icon, { tag: \"component\", attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !0) }, [e._v(\" \" + e._s(n.label) + \" \")])], 1);\n  }), 0)], 1);\n}, ti = [], ii = /* @__PURE__ */ k(\n  Yt,\n  ei,\n  ti,\n  !1,\n  null,\n  \"fcfd0f23\",\n  null,\n  null\n);\nconst ni = ii.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst li = function(s, e) {\n  const i = pe(), t = y([]), n = y(!0);\n  async function l(_, r = D) {\n    const u = await i.stat(\"\".concat(r).concat(_), {\n      details: !0\n    });\n    return M(u.data);\n  }\n  async function o() {\n    if (n.value = !0, s.value === \"favorites\")\n      t.value = await ve(i, e.value);\n    else if (s.value === \"recent\") {\n      const _ = Math.round(Date.now() / 1e3) - 1209600, { data: r } = await i.search(\"/\", {\n        details: !0,\n        data: me(_)\n      });\n      t.value = r.results.map((u) => M(u));\n    } else {\n      const _ = await i.getDirectoryContents(\"\".concat(D).concat(e.value), {\n        details: !0,\n        data: ge()\n      });\n      t.value = _.data.map((r) => M(r));\n    }\n    n.value = !1;\n  }\n  return te([s, e], () => o()), R(() => o()), {\n    isLoading: n,\n    files: t,\n    loadFiles: o,\n    getFile: l,\n    client: i\n  };\n};\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst si = function(s) {\n  const e = v(() => s.value.map((t) => t.split(\"/\")));\n  return {\n    isSupportedMimeType: (t) => {\n      const n = t.split(\"/\");\n      return e.value.some(\n        ([l, o]) => (\n          // check mime type matches or is wildcard\n          (n[0] === l || l === \"*\") && (n[1] === o || o === \"*\")\n        )\n      );\n    }\n  };\n}, ri = {\n  name: \"FilePicker\"\n}, ai = /* @__PURE__ */ I({\n  ...ri,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: !1 },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: !0 },\n    path: { default: \"/\" }\n  },\n  emits: [\"close\"],\n  setup(s, { emit: e }) {\n    const i = s, t = v(() => ({\n      container: i.container,\n      name: i.name,\n      buttons: n.value,\n      size: \"large\",\n      contentClasses: [\"file-picker__content\"],\n      dialogClasses: [\"file-picker\"],\n      navigationClasses: [\"file-picker__navigation\"]\n    })), n = v(() => (typeof i.buttons == \"function\" ? i.buttons(_.value, p.value, l.value) : i.buttons).map((c) => ({\n      ...c,\n      callback: async () => {\n        const F = _.value.length === 0 && i.allowPickDirectory ? [await $(p.value)] : _.value;\n        c.callback(F), e(\"close\", F);\n      }\n    }))), l = y(\"files\"), o = v(() => l.value === \"favorites\" ? w(\"Favorites\") : l.value === \"recent\" ? w(\"Recent\") : \"\"), _ = y([]), r = y((window == null ? void 0 : window.sessionStorage.getItem(\"NC.FilePicker.LastPath\")) || \"/\"), u = y(), p = v({\n      // Only use the path for the files view as favorites and recent only works on the root\n      get: () => l.value === \"files\" ? u.value || i.path || r.value : \"/\",\n      /**\n       * Navigate to the new path and save it to the session storage\n       *\n       * @param path The new path\n       */\n      set: (a) => {\n        i.path === void 0 && window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", a), u.value = a, _.value = [];\n      }\n    }), C = y(\"\"), { isSupportedMimeType: f } = si(_e(i, \"mimetypeFilter\")), { files: g, isLoading: d, loadFiles: S, getFile: $, client: P } = li(l, p);\n    R(() => S());\n    const { showHiddenFiles: N } = oe(), L = v(() => {\n      let a = g.value;\n      return N.value || (a = a.filter((c) => !c.basename.startsWith(\".\"))), i.mimetypeFilter.length > 0 && (a = a.filter((c) => c.type === \"folder\" || c.mime && f(c.mime))), C.value && (a = a.filter((c) => c.basename.toLowerCase().includes(C.value.toLowerCase()))), i.filterFn && (a = a.filter((c) => i.filterFn(c))), a;\n    }), m = v(() => l.value === \"files\" ? w(\"Upload some content or sync with your devices!\") : l.value === \"recent\" ? w(\"Files and folders you recently modified will show up here.\") : w(\"Files and folders you mark as favorite will show up here.\"));\n    return { __sfc: !0, props: i, emit: e, dialogProps: t, dialogButtons: n, currentView: l, viewHeadline: o, selectedFiles: _, savedPath: r, navigatedPath: u, currentPath: p, filterString: C, isSupportedMimeType: f, files: g, isLoading: d, loadFiles: S, getFile: $, client: P, showHiddenFiles: N, filteredFiles: L, noFilesDescription: m, onCreateFolder: async (a) => {\n      try {\n        await P.createDirectory(le(D, p.value, a)), await S(), Le(\"files:node:created\", g.value.filter((c) => c.basename === a)[0]);\n      } catch (c) {\n        console.warn(\"Could not create new folder\", { name: a, error: c }), Ne(w(\"Could not create the new folder\"));\n      }\n    }, handleClose: (a) => {\n      a || e(\"close\");\n    }, IconFile: ae, FileList: gt, FilePickerBreadcrumbs: Bt, FilePickerNavigation: ni, NcDialog: $e, NcEmptyContent: xe, t: w };\n  }\n});\nvar oi = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.NcDialog, e._b({ on: { \"update:open\": t.handleClose }, scopedSlots: e._u([{ key: \"navigation\", fn: function({ isCollapsed: n }) {\n    return [i(t.FilePickerNavigation, { attrs: { \"is-collapsed\": n, \"current-view\": t.currentView, \"filter-string\": t.filterString }, on: { \"update:currentView\": function(l) {\n      t.currentView = l;\n    }, \"update:current-view\": function(l) {\n      t.currentView = l;\n    }, \"update:filterString\": function(l) {\n      t.filterString = l;\n    }, \"update:filter-string\": function(l) {\n      t.filterString = l;\n    } } })];\n  } }]) }, \"NcDialog\", t.dialogProps, !1), [i(\"div\", { staticClass: \"file-picker__main\" }, [t.currentView === \"files\" ? i(t.FilePickerBreadcrumbs, { attrs: { path: t.currentPath, \"show-menu\": e.allowPickDirectory }, on: { \"update:path\": function(n) {\n    t.currentPath = n;\n  }, \"create-node\": t.onCreateFolder } }) : i(\"div\", { staticClass: \"file-picker__view\" }, [i(\"h3\", [e._v(e._s(t.viewHeadline))])]), t.isLoading || t.filteredFiles.length > 0 ? i(t.FileList, { attrs: { \"allow-pick-directory\": e.allowPickDirectory, \"current-view\": t.currentView, files: t.filteredFiles, multiselect: e.multiselect, loading: t.isLoading, path: t.currentPath, \"selected-files\": t.selectedFiles, name: t.viewHeadline }, on: { \"update:path\": [function(n) {\n    t.currentPath = n;\n  }, function(n) {\n    t.currentView = \"files\";\n  }], \"update:selectedFiles\": function(n) {\n    t.selectedFiles = n;\n  }, \"update:selected-files\": function(n) {\n    t.selectedFiles = n;\n  } } }) : t.filterString ? i(t.NcEmptyContent, { attrs: { name: t.t(\"No matching files\"), description: t.t(\"No files matching your filter were found.\") }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i(t.IconFile)];\n  }, proxy: !0 }]) }) : i(t.NcEmptyContent, { attrs: { name: t.t(\"No files in here\"), description: t.noFilesDescription }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i(t.IconFile)];\n  }, proxy: !0 }]) })], 1)]);\n}, ci = [], ui = /* @__PURE__ */ k(\n  ai,\n  oi,\n  ci,\n  !1,\n  null,\n  \"86a13079\",\n  null,\n  null\n);\nconst ki = ui.exports;\nexport {\n  ki as default\n};\n"],"names":["k","s","e","i","t","n","l","o","_","u","r","options","render","staticRenderFns","_compiled","functional","_scopeId","f","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","p","g","d","C","beforeCreate","concat","exports","ae","name","emits","props","title","type","String","fillColor","default","size","Number","_self","_c","_b","staticClass","attrs","role","on","click","$emit","$attrs","fill","width","height","viewBox","_v","_s","_e","oe","show_hidden","sort_favorites_first","crop_image_previews","get","then","S","$","value","data","showHiddenFiles","sortFavoritesFirst","cropImagePreviews","Te","je","ce","Xe","__name","showCheckbox","Boolean","setup","__sfc","fileListIconStyles","_setupProxy","class","_m","A","at","node","cropPreview","mimeFallback","attributes","previewUrl","fileid","URL","window","location","origin","searchParams","set","etag","Je","File","document","createElement","src","href","onerror","remove","onload","body","appendChild","immediate","previewURL","isFile","canLoadPreview","IconFile","IconFolder","style","backgroundImage","mime","_t","allowPickDirectory","selected","canPick","emit","displayName","basename","slice","extension","length","Folder","fileExtension","isDirectory","isPickable","toggleSelected","handleClick","handleKeyDown","key","formatFileSize","NcCheckboxRadioSwitch","NcDateTime","FilePreview","_g","tabindex","keydown","disabled","checked","nodename","stopPropagation","domProps","textContent","timestamp","mtime","gt","currentView","multiselect","loading","files","selectedFiles","path","currentConfig","b","sortBy","sorting_mode","order","sorting_direction","recent","P","favorites","h","a","c","F","x","z","B","T","E","U","Z","O","j","G","W","q","K","X","J","Q","Y","N","L","m","filesViewConfig","favoritesViewConfig","recentViewConfig","Re","ascending","descending","none","localeCompare","getTime","sort","favorite","filter","parentElement","children","clientHeight","isSameNode","Math","floor","addEventListener","removeEventListener","customSortingConfig","filesAppSorting","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","selectableFiles","allSelected","onSelectAll","onNodeSelected","includes","onChangeDirectory","skeletonNumber","fileContainer","NcButton","IconSortAscending","IconSortDescending","LoadingTableRow","FileListRow","ref","wide","scopedSlots","_u","fn","staticStyle","proxy","_l","bt","xt","Bt","showMenu","trim","$el","querySelector","OC","config","blacklist_files_regex","match","setCustomValidity","split","map","join","newNodeName","nameInput","validateInput","onSubmit","pathElements","IconHome","IconPlus","NcActions","NcActionInput","NcBreadcrumbs","NcBreadcrumb","close","label","placeholder","submit","input","Dt","Ut","Wt","Qt","ni","filterString","isCollapsed","id","icon","allViews","currentViewObject","updateFilterValue","IconClose","IconMagnify","NcSelect","NcTextField","Fragment","clearable","searchable","tag","ki","buttons","container","filterFn","mimetypeFilter","contentClasses","dialogClasses","navigationClasses","callback","async","sessionStorage","getItem","setItem","isSupportedMimeType","some","si","isLoading","loadFiles","getFile","client","round","Date","now","search","details","results","getDirectoryContents","stat","li","startsWith","toLowerCase","dialogProps","dialogButtons","viewHeadline","savedPath","navigatedPath","currentPath","filteredFiles","noFilesDescription","onCreateFolder","createDirectory","console","warn","error","handleClose","FileList","FilePickerBreadcrumbs","FilePickerNavigation","NcDialog","NcEmptyContent","description"],"sourceRoot":""}